<script src="//codecloud.cdn.speedyrails.net/sites/5438407c6e6f64462d020000/92b82a88144a6207ab1a5e8e0f63d3d1/craftmap.js"></script>
<div class="main_banner text-center">
    <h3>Shop & Entertainment</h3>
    <p>explore • enjoy • shop</p>
</div>
<div class="store_list_head main_container ">
    <div class="row hidden_phone">
        <div class="col-md-6">
            <h5 class="active_heading">Dining & Food Court</h5>
        </div>
        <div class="col-md-6">
            <h5><a href="/map">Centre Map</a></h5>
        </div>
        <div class="col-md-4">
            <!--<h5><a href="#">Dining & Entertainment</a></h5>-->
        </div>
    </div>
    <h5 class="text-center tap_here show_phone">
        <select id="option_selector" class="link_selector">
            <option value="" disabled selected>TAP FOR MORE OPTIONS</option>
            <option value="/stores">Shopping & Services</option>
            <option value="/map">Centre Map</option>
        </select>
    </h5>
</div>
<div class="content_container main_container position_relative">
    <div class="margin_25_across">
        <div class="row">
            <div class="col-md-8">
                <h5 class="category_header" style="display:none" id="cat_name_header">All</h5>
                <div class="row">
                    <div class="col-md-6">
                        <div class="" id="store_list_container">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="" id="store_list_container2">
                            
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4 hidden_phone">
                <!--<div id="new_stores">-->
                <!--    <p class="category_header">New Stores</p>-->
                <!--    <div id="new_store_container">-->
                <!--        <script id="new_store_template" type="x-tmpl-mustache/text">-->
                <!--            <h5 class="category_name"><a href="/stores/{{slug}}">{{name}}</a></h5>    -->
                <!--        </script>-->
                <!--    </div>-->
                <!--</div>-->
                <!--<div id="coming_soon_stores">-->
                <!--    <p class="category_header">Opening Soon</p>-->
                <!--    <div id="coming_soon_container">-->
                <!--        <script id="coming_soon_template" type="x-tmpl-mustache/text">-->
                <!--            <h5 class="category_name"><a href="/stores/{{slug}}">{{name}}</a></h5>    -->
                <!--        </script>-->
                <!--    </div>-->
                <!--</div>-->
                <p class="category_header">Categories</p>
                
                <div id="category_container" class="hidden_phone">
                    <h5 class="category_name active_cat"><a href="#" class="show_all_stores">All</a></h5>
                    <h5 class="category_name"><a href="#" class="show_cat_stores" data-id="1514">Fast Food &amp; Specialty Food</a></h5>
                    <h5 class="category_name"><a href="#" class="show_cat_stores" data-id="1515">Restaurants</a></h5>
                 
                </div>
            </div>
        </div>
    </div>
</div>
<script id="store_list_template" type="x-tmpl-mustache/text">
    <div class="store_list_content cats_row" data-cat="{{cat_list}}">
        <p class="store_initial" style="{{show}}" id="{{initial}}">{{initial}}</p>
        <p class="store_name"><a href="/stores/{{slug}}">{{name}}</a></p>
    </div>
</script>
<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script>
    $(document).ready(function(e){
        init(e);
        function renderAll (){
            var categories = getStoreCategories();
            var stores3 = getStoresListByCategoryID(1514);
            var stores1 = getStoresListByCategoryID(1515);

            var stores = stores1.concat(stores3).sortBy(function(o){ return o.name});
            var newStoreList = _.uniq(stores, function(o){ return o.name; });


            renderStoreList('#store_list_container','#store_list_template', newStoreList, "A", "M");
            renderStoreList('#store_list_container2','#store_list_template', newStoreList, "N", "Z");
            renderStoreList('#store_list_container_map','#store_list_template_map', newStoreList, "A", "Z");
            show_cat_stores();
            
            show_content();
        }
        
		loadMallDataCached(renderAll); 
    })
</script>